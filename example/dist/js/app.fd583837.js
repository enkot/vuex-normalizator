(function(t){function e(e){for(var r,c,u=e[0],a=e[1],s=e[2],f=0,p=[];f<u.length;f++)c=u[f],i[c]&&p.push(i[c][0]),i[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,u=1;u<n.length;u++){var a=n[u];0!==i[a]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={0:0},o=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=a;o.push([0,1]),n()})({0:function(t,e,n){t.exports=n("zUnb")},"4mdm":function(t){t.exports={id:"2",title:"New post!",author:{id:"564",name:"John"},comments:[{id:"270",content:"Nice post!",commenter:{id:"245",name:"Jane"}},{id:"252",content:"I am not a spammer!",commenter:{id:"246",name:"Spambot5000"}}]}},"A0++":function(t,e,n){"use strict";var r=n("BPUQ"),i=n.n(r);i.a},BPUQ:function(t,e,n){},"Cqf/":function(t){t.exports=[{id:"1",title:"My first post!",author:{id:"123",name:"Paul"},comments:[{id:"249",content:"Nice post!",commenter:{id:"245",name:"Jane"}},{id:"250",content:"Thanks!",commenter:{id:"123",name:"Paul"}}]},{id:"2",title:"This other post",author:{id:"123",name:"Paul"},comments:[{id:"251",content:"Your other post was nicer",commenter:{id:"245",name:"Jane"}}]}]},D6Dp:function(t,e,n){},f0dn:function(t,e,n){"use strict";var r=n("D6Dp"),i=n.n(r);i.a},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("Kw5r"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Home",{attrs:{msg:"Normalizator test"}})],1)},o=[],c=n("mrSG"),u=n("YKMj"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),n("button",{on:{click:t.getArticles}},[t._v("Get Articles")]),n("button",{on:{click:t.updateArticles}},[t._v("Update")]),n("pre",{staticStyle:{"text-align":"left"},domProps:{textContent:t._s(t.appState)}})])},s=[],l=n("S7WH"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c["d"](e,t),Object.defineProperty(e.prototype,"appState",{get:function(){return JSON.stringify(this.getEntitiesState,null,2)},enumerable:!0,configurable:!0}),e.prototype.getArticles=function(){return c["b"](this,void 0,void 0,function(){return c["e"](this,function(t){switch(t.label){case 0:return[4,this.fetchFirstData()];case 1:return t.sent(),[2]}})})},e.prototype.updateArticles=function(){return c["b"](this,void 0,void 0,function(){return c["e"](this,function(t){switch(t.label){case 0:return[4,this.fetchSecondData()];case 1:return t.sent(),[2]}})})},c["c"]([Object(u["b"])(),c["f"]("design:type",String)],e.prototype,"msg",void 0),c["c"]([l["a"],c["f"]("design:type",Function)],e.prototype,"fetchFirstData",void 0),c["c"]([l["a"],c["f"]("design:type",Function)],e.prototype,"fetchSecondData",void 0),c["c"]([l["b"],c["f"]("design:type",Object)],e.prototype,"allUsers",void 0),c["c"]([l["b"],c["f"]("design:type",Object)],e.prototype,"getEntitiesState",void 0),c["c"]([l["b"],c["f"]("design:type",Function)],e.prototype,"getCommentsForArticle",void 0),e=c["c"]([u["a"]],e),e}(u["c"]),p=f,d=p,m=(n("f0dn"),n("KHd+")),h=Object(m["a"])(d,a,s,!1,null,"23f11bb8",null),b=h.exports,v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c["d"](e,t),e=c["c"]([Object(u["a"])({components:{Home:b}})],e),e}(u["c"]),y=v,g=y,_=(n("A0++"),Object(m["a"])(g,i,o,!1,null,null,null)),w=_.exports,S=n("L2JU"),O=n("czhI"),j=n.n(O),A=n("lNvr"),D=n.n(A),P=n("Cqf/"),E=n("4mdm"),T=new D.a(j.a);T.onGet("/data1").reply(200,P),T.onGet("/data2").reply(200,E);var x,I=n("6DIm"),N=n("fZfX"),U=function(t){return{state:Object.keys(t).reduce(function(t,e){return t[e]={},t},{}),mutations:{N_ENTITIES_UPDATE:function(t,e){Object.keys(e).forEach(function(n){I["a"].set(t,n,c["a"]({},e[n]))})}},getters:{nGetItems:function(e,n,r){return function(e,n){if(!r.n_entities[e])return null;var i=Array.isArray(n)?[t[e]]:t[e];return Object(N["denormalize"])(n,i,r.n_entities)}}}}},F=void 0,J=function(t){x=t},k=function(t,e){return c["b"](F,void 0,Promise,function(){var n,r,i,o;return c["e"](this,function(c){switch(c.label){case 0:return[4,j()(t)];case 1:return n=c.sent().data,e?(r=Object(N["normalize"])(n,e),i=r.entities,o=r.result,x.commit("N_ENTITIES_UPDATE",i),[2,o]):[2,n]}})})},M=function(t){return function(e){J(e),e.registerModule("n_entities",U(t))}},z=new N["schema"].Entity("users"),C=new N["schema"].Entity("comments",{commenter:z}),G=new N["schema"].Entity("articles",{author:z,comments:[C]});r["default"].use(S["a"]);var H=M({users:z,comments:C,articles:G}),K=new S["a"].Store({modules:{articles:{state:{},mutations:{ADD_DATA:function(t,e){r["default"].set(t,"articleIds",e)}},actions:{fetchFirstData:function(t){var e=t.commit;return c["b"](this,void 0,void 0,function(){var t;return c["e"](this,function(n){switch(n.label){case 0:return[4,k({method:"get",url:"/data1"},[G])];case 1:return t=n.sent(),e("ADD_DATA",t),[2]}})})},fetchSecondData:function(t){t.commit;return c["b"](this,void 0,void 0,function(){return c["e"](this,function(t){switch(t.label){case 0:return[4,k({method:"get",url:"/data2"},G)];case 1:return t.sent(),[2]}})})}},getters:{getEntitiesState:function(t,e,n,r){return n},getCommentsForArticle:function(t,e,n,r){return function(t){var e=n.n_entities.articles[t];return e?r.nGetItems("comments",e.comments):[]}}}}},plugins:[H]});r["default"].config.productionTip=!1,new r["default"]({store:K,render:function(t){return t(w)}}).$mount("#app")}});
//# sourceMappingURL=app.fd583837.js.map